{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/timcher/Documents/GitHub/goit-react-hw-05-phonebook/src/Component/PhoneBook/PhoneBook.js\";\nimport React, { Component } from \"react\";\nimport Form from \"../Form/Form\";\nimport ContactList from \"../ContactList/ContactList\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport Filter from \"../Filter/Filter\";\nimport { CSSTransition, TransitionGroup } from \"react-transition-group\";\nimport styles from \"./PhoneBook.module.css\";\nimport \"./PhoneBook.css\";\n\nclass PhoneBook extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      contacts: [],\n      filter: \"\",\n      name: \"\",\n      isError: false // number: '',\n\n    };\n\n    this.addContact = contact => {\n      const arr = this.state.contacts;\n      const result = arr.some(item => item.name.includes(contact.name));\n      !result ? this.setState(prev => ({\n        contacts: [...prev.contacts, { ...contact,\n          id: uuidv4()\n        }]\n      })) : /*#__PURE__*/_jsxDEV(TransitionGroup, {\n        className: \"alertBox\",\n        component: \"div\",\n        children: this.state.alert ? /*#__PURE__*/_jsxDEV(CSSTransition, {\n          classNames: \"alert__Box\",\n          mountOnEnter: true,\n          unmountOnExit: true,\n          timeout: 800,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"alert__Box\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: `Контакт с таким именем  уже существует!`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: this.closeAlert,\n              className: \"alertButton\",\n              children: \"ok\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this) : null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 7\n      }, this);\n    };\n\n    this.deleteContact = id => {\n      this.setState({\n        contacts: this.state.contacts.filter(contact => contact.id !== id)\n      });\n    };\n\n    this.filterContact = () => {\n      return this.state.contacts.filter(contact => contact.name.toLowerCase().includes(this.state.filter.toLowerCase()));\n    };\n\n    this.onHandleChange = e => {\n      const {\n        name,\n        value\n      } = e.target;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.onSetError = () => {\n      this.setState(prev => ({\n        isError: !prev.isError\n      }));\n    };\n  }\n\n  componentDidMount() {\n    const persistedTasks = localStorage.getItem(\"contacts\");\n\n    if (persistedTasks) {\n      this.setState({\n        contacts: JSON.parse(persistedTasks)\n      });\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.contacts !== this.state.contacts) {\n      localStorage.setItem(\"contacts\", JSON.stringify(this.state.contacts));\n    }\n  }\n\n  render() {\n    const {\n      isError\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(CSSTransition, {\n        in: true,\n        appear: true,\n        timeout: 500,\n        classNames: \"logo\",\n        unmountOnExit: true,\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"title\",\n          children: \"PhoneBook\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CSSTransition, {\n        in: true,\n        appear: true,\n        timeout: 1000,\n        classNames: \"form\",\n        unmountOnExit: true,\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          addContact: this.addContact,\n          isError: this.state.isError,\n          onSetError: this.onSetError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CSSTransition, {\n        in: this.state.contacts.length > 0,\n        timeout: 250,\n        classNames: \"contactTitle\",\n        unmountOnExit: true,\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"title\",\n          children: \"Contacts\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CSSTransition, {\n        in: isError,\n        classNames: \"notFound\",\n        timeout: 250,\n        unmountOnExit: true,\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: styles.contactListErr,\n          children: \"Name or Contact is not found!!!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Filter, {\n        filter: this.state.filter,\n        onHandleChange: this.onHandleChange,\n        contacts: this.state.contacts\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ContactList, {\n        contacts: this.state.filter ? this.filterContact() : this.state.contacts,\n        deleteContact: this.deleteContact\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default PhoneBook;","map":{"version":3,"sources":["/Users/timcher/Documents/GitHub/goit-react-hw-05-phonebook/src/Component/PhoneBook/PhoneBook.js"],"names":["React","Component","Form","ContactList","v4","uuidv4","Filter","CSSTransition","TransitionGroup","styles","PhoneBook","state","contacts","filter","name","isError","addContact","contact","arr","result","some","item","includes","setState","prev","id","alert","closeAlert","deleteContact","filterContact","toLowerCase","onHandleChange","e","value","target","onSetError","componentDidMount","persistedTasks","localStorage","getItem","JSON","parse","componentDidUpdate","prevProps","prevState","setItem","stringify","render","length","contactListErr"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Form from \"../Form/Form\";\nimport ContactList from \"../ContactList/ContactList\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport Filter from \"../Filter/Filter\";\nimport { CSSTransition, TransitionGroup } from \"react-transition-group\";\nimport styles from \"./PhoneBook.module.css\";\nimport \"./PhoneBook.css\";\n\nclass PhoneBook extends Component {\n  state = {\n    contacts: [],\n    filter: \"\",\n    name: \"\",\n    isError: false,\n    // number: '',\n  };\n\n  componentDidMount() {\n    const persistedTasks = localStorage.getItem(\"contacts\");\n    if (persistedTasks) {\n      this.setState({\n        contacts: JSON.parse(persistedTasks),\n      });\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.contacts !== this.state.contacts) {\n      localStorage.setItem(\"contacts\", JSON.stringify(this.state.contacts));\n    }\n  }\n\n  addContact = (contact) => {\n    const arr = this.state.contacts;\n    const result = arr.some((item) => item.name.includes(contact.name));\n    !result ? (\n      this.setState((prev) => ({\n        contacts: [...prev.contacts, { ...contact, id: uuidv4() }],\n      }))\n    ) : (\n      <TransitionGroup className=\"alertBox\" component=\"div\">\n        {this.state.alert ? (\n          <CSSTransition\n            classNames=\"alert__Box\"\n            mountOnEnter\n            unmountOnExit\n            timeout={800}\n          >\n            <div className=\"alert__Box\">\n              <h2>{`Контакт с таким именем  уже существует!`}</h2>\n              <button onClick={this.closeAlert} className=\"alertButton\">\n                ok\n              </button>\n            </div>\n          </CSSTransition>\n        ) : null}\n      </TransitionGroup>\n    );\n  };\n\n  deleteContact = (id) => {\n    this.setState({\n      contacts: this.state.contacts.filter((contact) => contact.id !== id),\n    });\n  };\n\n  filterContact = () => {\n    return this.state.contacts.filter((contact) =>\n      contact.name.toLowerCase().includes(this.state.filter.toLowerCase())\n    );\n  };\n\n  onHandleChange = (e) => {\n    const { name, value } = e.target;\n    this.setState({ [name]: value });\n  };\n\n  onSetError = () => {\n    this.setState((prev) => ({ isError: !prev.isError }));\n  };\n\n  render() {\n    const { isError } = this.state;\n    return (\n      <>\n        <CSSTransition\n          in={true}\n          appear={true}\n          timeout={500}\n          classNames=\"logo\"\n          unmountOnExit\n        >\n          <h1 className=\"title\">PhoneBook</h1>\n        </CSSTransition>\n        <CSSTransition\n          in={true}\n          appear={true}\n          timeout={1000}\n          classNames=\"form\"\n          unmountOnExit\n        >\n          <Form\n            addContact={this.addContact}\n            isError={this.state.isError}\n            onSetError={this.onSetError}\n          />\n        </CSSTransition>\n        <CSSTransition\n          in={this.state.contacts.length > 0}\n          timeout={250}\n          classNames=\"contactTitle\"\n          unmountOnExit\n        >\n          <h2 className=\"title\">Contacts</h2>\n        </CSSTransition>\n        <CSSTransition\n          in={isError}\n          classNames=\"notFound\"\n          timeout={250}\n          unmountOnExit\n        >\n          <h2 className={styles.contactListErr}>\n            Name or Contact is not found!!!\n          </h2>\n        </CSSTransition>\n        <Filter\n          filter={this.state.filter}\n          onHandleChange={this.onHandleChange}\n          contacts={this.state.contacts}\n        />\n        {/* <CSSTransition> */}\n        <ContactList\n          contacts={\n            this.state.filter ? this.filterContact() : this.state.contacts\n          }\n          deleteContact={this.deleteContact}\n        />\n        {/* </CSSTransition> */}\n      </>\n    );\n  }\n}\n\nexport default PhoneBook;\n"]},"metadata":{},"sourceType":"module"}