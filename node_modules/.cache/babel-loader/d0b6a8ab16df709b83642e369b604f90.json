{"ast":null,"code":"import _defineProperty from\"/Users/timcher/Documents/GitHub/goit-react-hw-05-phonebook/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/timcher/Documents/GitHub/goit-react-hw-05-phonebook/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/Users/timcher/Documents/GitHub/goit-react-hw-05-phonebook/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/timcher/Documents/GitHub/goit-react-hw-05-phonebook/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/timcher/Documents/GitHub/goit-react-hw-05-phonebook/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/timcher/Documents/GitHub/goit-react-hw-05-phonebook/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/timcher/Documents/GitHub/goit-react-hw-05-phonebook/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import React,{Component}from\"react\";import Form from\"../Form/Form\";import ContactList from\"../ContactList/ContactList\";import{v4 as uuidv4}from\"uuid\";import Filter from\"../Filter/Filter\";import{CSSTransition,TransitionGroup}from\"react-transition-group\";import styles from\"./PhoneBook.module.css\";import\"./PhoneBook.css\";var PhoneBook=/*#__PURE__*/function(_Component){_inherits(PhoneBook,_Component);var _super=_createSuper(PhoneBook);function PhoneBook(){var _this;_classCallCheck(this,PhoneBook);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={contacts:[],filter:\"\",name:\"\",isError:false,alert:false// number: '',\n};_this.addContact=function(contact){var arr=_this.state.contacts;var result=arr.some(function(item){return item.name.includes(contact.name);});result?_this.setState({alert:result}):_this.setState(function(prev){return{contacts:[].concat(_toConsumableArray(prev.contacts),[_objectSpread(_objectSpread({},contact),{},{id:uuidv4()})])};});};_this.deleteContact=function(id){_this.setState({contacts:_this.state.contacts.filter(function(contact){return contact.id!==id;})});};_this.filterContact=function(){return _this.state.contacts.filter(function(contact){return contact.name.toLowerCase().includes(_this.state.filter.toLowerCase());});};_this.onHandleChange=function(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;_this.setState(_defineProperty({},name,value));};_this.onSetError=function(){_this.setState(function(prev){return{isError:!prev.isError};});};_this.closeAlert=function(){_this.setState({alert:false});};return _this;}_createClass(PhoneBook,[{key:\"componentDidMount\",value:function componentDidMount(){var persistedTasks=localStorage.getItem(\"contacts\");if(persistedTasks){this.setState({contacts:JSON.parse(persistedTasks)});}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){if(prevState.contacts!==this.state.contacts){localStorage.setItem(\"contacts\",JSON.stringify(this.state.contacts));}}},{key:\"render\",value:function render(){var isError=this.state.isError;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(TransitionGroup,{className:\"alertBox\",component:\"div\",children:this.state.alert?/*#__PURE__*/_jsx(CSSTransition,{classNames:\"alert__Box\",mountOnEnter:true,unmountOnExit:true,timeout:800,children:/*#__PURE__*/_jsxs(\"div\",{className:\"alert__Box\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"A contact with the same name already exists!\"}),/*#__PURE__*/_jsx(\"button\",{onClick:this.closeAlert,className:\"alertButton\",children:\"ok\"})]})}):null}),/*#__PURE__*/_jsx(CSSTransition,{in:true,appear:true,timeout:500,classNames:\"logo\",unmountOnExit:true,children:/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:\"PhoneBook\"})}),/*#__PURE__*/_jsx(CSSTransition,{in:true,appear:true,timeout:1000,classNames:\"form\",unmountOnExit:true,children:/*#__PURE__*/_jsx(Form,{addContact:this.addContact,isError:this.state.isError,onSetError:this.onSetError})}),/*#__PURE__*/_jsx(CSSTransition,{in:this.state.contacts.length>1,timeout:250,classNames:\"contactTitle\",unmountOnExit:true,children:/*#__PURE__*/_jsx(\"h2\",{className:\"title\",children:\"Find contacts\"})}),/*#__PURE__*/_jsx(CSSTransition,{in:isError,classNames:\"notFound\",timeout:500,unmountOnExit:true,children:/*#__PURE__*/_jsx(\"h2\",{className:styles.contactListErr,children:\"Name or Contact is not found!!!\"})}),/*#__PURE__*/_jsx(Filter,{filter:this.state.filter,onHandleChange:this.onHandleChange,contacts:this.state.contacts}),/*#__PURE__*/_jsx(ContactList,{contacts:this.state.filter?this.filterContact():this.state.contacts,deleteContact:this.deleteContact})]});}}]);return PhoneBook;}(Component);export default PhoneBook;","map":{"version":3,"sources":["/Users/timcher/Documents/GitHub/goit-react-hw-05-phonebook/src/Component/PhoneBook/PhoneBook.js"],"names":["React","Component","Form","ContactList","v4","uuidv4","Filter","CSSTransition","TransitionGroup","styles","PhoneBook","state","contacts","filter","name","isError","alert","addContact","contact","arr","result","some","item","includes","setState","prev","id","deleteContact","filterContact","toLowerCase","onHandleChange","e","target","value","onSetError","closeAlert","persistedTasks","localStorage","getItem","JSON","parse","prevProps","prevState","setItem","stringify","length","contactListErr"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Form from \"../Form/Form\";\nimport ContactList from \"../ContactList/ContactList\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport Filter from \"../Filter/Filter\";\nimport { CSSTransition, TransitionGroup } from \"react-transition-group\";\nimport styles from \"./PhoneBook.module.css\";\nimport \"./PhoneBook.css\";\n\nclass PhoneBook extends Component {\n  state = {\n    contacts: [],\n    filter: \"\",\n    name: \"\",\n    isError: false,\n    alert: false,\n    // number: '',\n  };\n\n  componentDidMount() {\n    const persistedTasks = localStorage.getItem(\"contacts\");\n    if (persistedTasks) {\n      this.setState({\n        contacts: JSON.parse(persistedTasks),\n      });\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.contacts !== this.state.contacts) {\n      localStorage.setItem(\"contacts\", JSON.stringify(this.state.contacts));\n    }\n  }\n\n  addContact = (contact) => {\n    const arr = this.state.contacts;\n    const result = arr.some((item) => item.name.includes(contact.name));\n    result\n      ? this.setState({ alert: result })\n      : this.setState((prev) => ({\n          contacts: [...prev.contacts, { ...contact, id: uuidv4() }],\n        }));\n  };\n\n  deleteContact = (id) => {\n    this.setState({\n      contacts: this.state.contacts.filter((contact) => contact.id !== id),\n    });\n  };\n\n  filterContact = () => {\n    return this.state.contacts.filter((contact) =>\n      contact.name.toLowerCase().includes(this.state.filter.toLowerCase())\n    );\n  };\n\n  onHandleChange = (e) => {\n    const { name, value } = e.target;\n    this.setState({ [name]: value });\n  };\n\n  onSetError = () => {\n    this.setState((prev) => ({ isError: !prev.isError }));\n  };\n\n  closeAlert = () => {\n    this.setState({ alert: false });\n  };\n\n  render() {\n    const { isError } = this.state;\n    return (\n      <>\n        <TransitionGroup className=\"alertBox\" component=\"div\">\n          {this.state.alert ? (\n            <CSSTransition\n              classNames=\"alert__Box\"\n              mountOnEnter\n              unmountOnExit\n              timeout={800}\n            >\n              <div className=\"alert__Box\">\n                <h2>{`A contact with the same name already exists!`}</h2>\n                <button onClick={this.closeAlert} className=\"alertButton\">\n                  ok\n                </button>\n              </div>\n            </CSSTransition>\n          ) : null}\n        </TransitionGroup>\n\n        <CSSTransition\n          in={true}\n          appear={true}\n          timeout={500}\n          classNames=\"logo\"\n          unmountOnExit\n        >\n          <h1 className=\"title\">PhoneBook</h1>\n        </CSSTransition>\n        <CSSTransition\n          in={true}\n          appear={true}\n          timeout={1000}\n          classNames=\"form\"\n          unmountOnExit\n        >\n          <Form\n            addContact={this.addContact}\n            isError={this.state.isError}\n            onSetError={this.onSetError}\n          />\n        </CSSTransition>\n        <CSSTransition\n          in={this.state.contacts.length > 1}\n          timeout={250}\n          classNames=\"contactTitle\"\n          unmountOnExit\n        >\n          <h2 className=\"title\">Find contacts</h2>\n        </CSSTransition>\n        <CSSTransition\n          in={isError}\n          classNames=\"notFound\"\n          timeout={500}\n          unmountOnExit\n        >\n          <h2 className={styles.contactListErr}>\n            Name or Contact is not found!!!\n          </h2>\n        </CSSTransition>\n        <Filter\n          filter={this.state.filter}\n          onHandleChange={this.onHandleChange}\n          contacts={this.state.contacts}\n        />\n        {/* <CSSTransition> */}\n        <ContactList\n          contacts={\n            this.state.filter ? this.filterContact() : this.state.contacts\n          }\n          deleteContact={this.deleteContact}\n        />\n        {/* </CSSTransition> */}\n      </>\n    );\n  }\n}\n\nexport default PhoneBook;\n"]},"metadata":{},"sourceType":"module"}